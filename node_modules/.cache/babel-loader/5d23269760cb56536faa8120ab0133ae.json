{"ast":null,"code":"var _jsxFileName = \"/Users/NatRichmond/LiteShado, Inc./General Assembly/RhymeMonies/RhymeMonies-frontend/rhymemonies/src/pages/Profile.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState, userState } from 'react';\nimport axios from 'axios'; // import Music from '../components/Music'\n// import '../css/Music.css'\n\nimport env from 'react-dotenv'; // import SongChoice from '../pages/SongChoice'\n// import { Link, useParams } from 'react-router-dom'\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Profile = () => {\n  _s();\n\n  const [profile, setProfile] = useState(null);\n  const id = localStorage.getItem('id');\n  const name = localStorage.getItem('name');\n  const email = localStorage.getItem('email');\n  const password = localStorage.getItem('password');\n  const [newName, setNewName] = useState(null);\n  const [newEmail, setNewEmail] = useState(null);\n  const [newPassword, setNewPassword] = useState('');\n  const [newProfile, setNewProfile] = useState(null);\n  console.log(id);\n  console.log(name);\n\n  const getProfile = async () => {\n    const res = await {\n      id,\n      name,\n      email,\n      password\n    };\n    setProfile(res);\n    console.log(res);\n  }; // const getProfile = async() => {\n  //         try {\n  //         const res = await axios.get(`${env.API_URL}/users/profile`)\n  //         setProfile(res.data)\n  //         console.log(res)\n  //         console.log(res.data)\n  //         console.log(props.song.id)\n  //         // console.log(props.song.id)\n  //         console.log(res.data.song)\n  //         console.log(res)\n  //         setProfile(res.data.song)\n  //         console.log(res.data.song)\n  //         } catch (error) {\n  //             console.log(error)\n  //         }\n  // }\n\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n  console.log(profile);\n\n  const editSubmit = async e => {\n    let newPassword = localStorage.getItem('password');\n    let newEmail = localStorage.getItem('email');\n\n    try {\n      let ress = await axios.put(`${env.API_URL}/users/edit`, {\n        name: newName,\n        email: newEmail,\n        password: newPassword\n      });\n      setNewProfile(ress);\n      console.log(ress);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const handleDelete = async e => {\n    try {\n      await axios.delete(`${env.API_URL}/users/delete`, {\n        email: newEmail\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Your Profile Details:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: profile => {\n        /*#__PURE__*/\n        _jsxDEV(\"div\", {\n          className: \"profile\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Name:\", profile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: [\"Password:\", profile.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this);\n      }\n    }, void 0, false), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Edit Your Community Alias: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: editSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"newName\",\n        placeholder: \"Name\",\n        type: \"text\",\n        value: newName,\n        onChange: e => setNewName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"newEmail\",\n        placeholder: \"Email\",\n        type: \"hidden\",\n        value: newEmail,\n        onChange: e => setNewEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"newPassword\",\n        type: \"hidden\",\n        placeholder: \"UserId\",\n        value: newPassword,\n        onChange: e => setNewPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" Delete My Profile \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleDelete,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        name: \"newEmail\",\n        type: \"hidden\",\n        value: newEmail,\n        onChange: e => setNewEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"submit\",\n        children: \"Delete My Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Profile, \"p5MrtyPTFfoz5ks1JZuybAns3QE=\");\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["/Users/NatRichmond/LiteShado, Inc./General Assembly/RhymeMonies/RhymeMonies-frontend/rhymemonies/src/pages/Profile.js"],"names":["useEffect","useState","userState","axios","env","Profile","profile","setProfile","id","localStorage","getItem","name","email","password","newName","setNewName","newEmail","setNewEmail","newPassword","setNewPassword","newProfile","setNewProfile","console","log","getProfile","res","editSubmit","e","ress","put","API_URL","error","handleDelete","delete","target","value"],"mappings":"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","sourcesContent":["import {useEffect, useState, userState} from 'react'\nimport axios from 'axios'\n// import Music from '../components/Music'\n// import '../css/Music.css'\nimport env from 'react-dotenv'\n// import SongChoice from '../pages/SongChoice'\n// import { Link, useParams } from 'react-router-dom'\n\n\nconst Profile = () => {\n\n    const[profile, setProfile] = useState(null)\n    const id = localStorage.getItem('id')\n    const name = localStorage.getItem('name')\n    const email = localStorage.getItem('email')\n    const password = localStorage.getItem('password')\n    const [newName,setNewName] = useState(null)\n    const [newEmail,setNewEmail] = useState(null)\n    const [newPassword, setNewPassword] = useState('')\n    const [newProfile, setNewProfile] = useState(null)\n\n    console.log(id)\n    console.log(name)\n\n\n    const getProfile = async() => {\n        const res = await {id, name, email, password}\n        setProfile(res)\n        console.log(res)\n    }\n    // const getProfile = async() => {\n    //         try {\n    //         const res = await axios.get(`${env.API_URL}/users/profile`)\n    //         setProfile(res.data)\n    //         console.log(res)\n    //         console.log(res.data)\n    //         console.log(props.song.id)\n    //         // console.log(props.song.id)\n    //         console.log(res.data.song)\n    //         console.log(res)\n    //         setProfile(res.data.song)\n    //         console.log(res.data.song)\n\n    //         } catch (error) {\n    //             console.log(error)\n    //         }\n    // }\n\n    useEffect(() => {\n        getProfile()\n    }, [])\n\nconsole.log(profile)\n\nconst editSubmit = async (e) => {\n    let newPassword = localStorage.getItem('password')\n    let newEmail = localStorage.getItem('email')\n    try {\n    let ress = await axios.put(`${env.API_URL}/users/edit`, {\n        name: newName,\n        email: newEmail,\n        password: newPassword,\n    })\n        setNewProfile(ress)\n        console.log(ress)\n\n    } catch (error) {\n        console.log(error)\n    }\n}\nconst handleDelete = async (e) => {\n    try {\n        await axios.delete(`${env.API_URL}/users/delete`, {\n        email: newEmail\n    })\n\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n\nreturn (\n    <>\n        <h1>Your Profile Details:</h1>\n        <>\n            {(profile) => {\n                    <div className=\"profile\">\n                            <h2>Name:\n                            {profile.name}</h2>\n                            <h2>Password:\n                            {profile.email}</h2>\n                    </div>\n            }}\n        </>\n\n            <h1>Edit Your Community Alias: </h1>\n                <form onSubmit={editSubmit}>\n                    <input name=\"newName\" placeholder=\"Name\" type=\"text\" value={newName} onChange={(e) => setNewName(e.target.value)} />\n\n                    <input name=\"newEmail\" placeholder=\"Email\" type=\"hidden\" value={newEmail} onChange={(e) => setNewEmail(e.target.value)} />\n\n                    <input name=\"newPassword\" type=\"hidden\" placeholder=\"UserId\" value={newPassword} onChange={(e) => setNewPassword(e.target.value)} />\n\n                    <input type=\"submit\" value=\"submit\" />\n                </form>\n\n            <h1> Delete My Profile </h1>\n                <form onSubmit={handleDelete}>\n                    <input name=\"newEmail\" type=\"hidden\" value={newEmail} onChange={(e) => setNewEmail(e.target.value)} />\n\n                    <input type=\"submit\" value=\"submit\">Delete My Profile</input>\n                </form>\n        </>\n\n    )\n}\n\nexport default Profile\n"]},"metadata":{},"sourceType":"module"}